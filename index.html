<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>360&deg; Image Gallery</title>
    <meta name="description" content="JavaScript - A-Frame School">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-template-component@3.1.1"></script>
    <script src="https://matthrco.github.io/virtualreality/makery.js"></script>
    
    <link rel="stylesheet" href="https://matthrco.github.io/virtualreality/main.css">
    </head>
  <body>
    
    <div id="p1" class="instructions-overlay">
      <div class="instructions">
        <h1>Welcome to The Makery!
        </h1>
<!--         <p>
          This will be a brief introduction to the experience with explanations on how to use it and navigate around the room/get the most interaction out of it. 
          To start the experience the user will have to click the button below or anywhere on the screen to start the videos on mobile (security setting) and remove this text.
        </p> -->
        <div id="intro">
          <h1>
          Firstly, a brief tutorial
          </h1>
          <h2>
            If you have a VR headet, make sure to click the headset button.
          </h2>
        </div>
        <div id="clicking">
          <h1>
          Clicking
          </h1>
          <p>
            If using a VR headset, stare at object to click them using <b>gaze click</b>
          </p>
          
        </div>
        
        <div id="teleport" style="display:none">
          <h1>
            Teleporting
          </h1>
          <p>
            Click on these teleports to transport to another location in the makery.
          </p>
          <img src="https://cdn.glitch.com/829d757a-cedc-425b-98eb-4ca03f0745f4%2Fteleport.PNG?1511016721547" >
        </div>
        
        <div id="Arrow" style = "display:none">
          
          <h1>
            Interactive Objects
          </h1>
          <p>
            Arrows show interactive elements. Click below them for more...
          </p>

          <h1>
            Insert photo of arrow
            
            blah
            blah
          </h1>
        </div>
        <div id="options">
          <h2>
            Click NEXT to continue tutorial or BEGIN to enter the Makery
          </h2>
          <div id="nextButton">
          <button class="start-button" onclick="myFunction();">
          NEXT
          </button>
        </div>
        
        </div>
      
        
        <div id = "beginButton" >
          <h2>
          Enter the Makery
        </h2>
        <button class="start-button" onclick="eventLstner();">
          BEGIN
        </button>
        </div>
        
      </div>
    </div>
    <a-scene makery>
      <!-- Don't wait for the video to load, we're going to stream it. -->
      <a-assets>
        <video playsinline webkit-playsinline id="makery1" crossorigin="anonymous" muted loop>
          <!-- MP4 video source. -->
          <source type="video/mp4"
               src="https://matthrco.github.io/virtualreality/VP1Static.mp4" />
        </video>
        <video playsinline webkit-playsinline id="makery2" crossorigin="anonymous" muted loop>
          <!-- Native HLS video source. -->
          <source type="application/x-mpegurl"
               src="https://matthrco.github.io/virtualreality/VP2Static.m3u8" />
          <!-- MP4 video source. -->
          <source type="video/mp4"
               src="https://matthrco.github.io/virtualreality/VP2Static.mp4" />
        </video>
        <video playsinline webkit-playsinline id="makery3" crossorigin="anonymous" muted loop>
          <!-- Native HLS video source. -->
          <source type="application/x-mpegurl"
               src="https://matthrco.github.io/virtualreality/VP3Static.m3u8" />
          <!-- MP4 video source. -->
          <source type="video/mp4"
               src="https://matthrco.github.io/virtualreality/VP3Static.mp4" />
        </video>        
        <video playsinline webkit-playsinline id="makery1_dynamic" crossorigin="anonymous" muted loop>
          <!-- Native HLS video source. -->
          <source type="application/x-mpegurl"
               src="https://matthrco.github.io/virtualreality/VP1Dynamic.m3u8" />
          <!-- MP4 video source. -->
          <source type="video/mp4"
               src="https://matthrco.github.io/virtualreality/VP1Dynamic.mp4" />
        </video>       
        <video playsinline webkit-playsinline id="makery2_all" crossorigin="anonymous" muted loop>
          <!-- Native HLS video source. -->
          <source type="application/x-mpegurl"
               src="https://matthrco.github.io/virtualreality/VP2AllRobots.m3u8" />
          <!-- MP4 video source. -->
          <source type="video/mp4"
               src="https://matthrco.github.io/virtualreality/VP2AllRobots.mp4" />
        </video>       
        <video playsinline webkit-playsinline id="makery2_arm" crossorigin="anonymous" muted loop>
          <!-- Native HLS video source. -->
          <source type="application/x-mpegurl"
               src="https://matthrco.github.io/virtualreality/VP2Arm.m3u8" />
          <!-- MP4 video source. -->
          <source type="video/mp4"
               src="https://matthrco.github.io/virtualreality/VP2Arm.mp4" />
        </video>       
        <video playsinline webkit-playsinline id="makery2_car" crossorigin="anonymous" muted loop>
          <!-- Native HLS video source. -->
          <source type="application/x-mpegurl"
               src="https://matthrco.github.io/virtualreality/VP2Car.m3u8" />
          <!-- MP4 video source. -->
          <source type="video/mp4"
               src="https://matthrco.github.io/virtualreality/VP2Car.mp4" />
        </video>       
        <video playsinline webkit-playsinline id="makery2_dog" crossorigin="anonymous" muted loop>
          <!-- Native HLS video source. -->
          <source type="application/x-mpegurl"
               src="https://matthrco.github.io/virtualreality/VP2Dog.m3u8" />
          <!-- MP4 video source. -->
          <source type="video/mp4"
               src="https://matthrco.github.io/virtualreality/VP2Dog.mp4" />
        </video>
        <video playsinline webkit-playsinline id="scratch" crossorigin="anonymous" muted loop src="https://matthrco.github.io/virtualreality/Scratch.mp4">
        </video>
        <img id="portalTexture" src="https://matthrco.github.io/virtualreality/portalTexture.png">
        
       
        
      </a-assets>
      <a-videosphere id="vid" src="#makery1" rotation="0 180 0"></a-videosphere>
      <a-entity id="link1" class="link" portal="target: #vid; src: #makery1; position: 0 0 0; rotation: 0 90 0"></a-entity>
      <a-entity id="link2" class="link" portal="target: #vid; src: #makery2; position: -5 0 2.5; rotation: 0 320 0"></a-entity>
      <a-entity id="link3" class="link" portal="target: #vid; src: #makery3; position: -4.5 0 -2; rotation: 0 210 0"></a-entity>
      <a-entity id="prompt1" prompt="position: -4.5 0 0" position="-4.266 -0.265 0">
        <a-animation attribute="position" dur="800" from="-4.266 -0.265 0" to="-4.266 0 0" repeat="indefinite"></a-animation>
        <a-animation attribute="position" delay="800" dur="800" from="-4.266 0 0" to="-4.266 -0.265 0" repeat="indefinite"></a-animation>
      </a-entity>
      <a-entity id="prompt2" prompt="position: -4.5 0 0" position="-5.710 -0.315 0">
        <a-animation attribute="position" dur="800" from="-5.710 -0.315 0" to="-5.710 0 0" repeat="indefinite"></a-animation>
        <a-animation attribute="position" delay="800" dur="800" from="-5.710 0 0" to="-5.710 -0.315 0" repeat="indefinite"></a-animation>
      </a-entity>
      <a-entity id="prompt3" prompt="position: -4.5 0 0" position="-1.413 0.896 -4.243">
        <a-animation attribute="position" dur="800" from="-1.413 0.896 -4.243" to="-1.413 1.196 -4.243" repeat="indefinite"></a-animation>
        <a-animation attribute="position" delay="800" dur="800" from="-1.413 1.196 -4.243" to="-1.413 0.896 -4.243" repeat="indefinite"></a-animation>
      </a-entity>
      
<!--       When hover over text box appears -->
      
<!--   VR RIG     -->
      <a-cylinder id="pos1" position="1.4 -0.76 -6.65" opacity="0.0" scale="1 1 3.1" class="link"
                  event-set__enter="_event: mouseenter; _target: #VRText; visible: true"
                  event-set__entera="_event: mouseenter; _target: #prompt3; visible: false">
        <a-box id="VRText" height="0.5" color="white" material="side: back" position="-4.978 0.581 1.288 " rotation="0 -26 0" scale="0.829 1.310 0.005" visible="false" text="color: black; anchor: center; align: center;
              value:  Virtual Reality is really something that everyone must try, old or young. You can explore the world in Google Earth VR or get to grips with one of the games from Steam VR. There is something to interest everyone. The HTC Vive VR Rig has won awards such as VR Headset of the Year, and linked up to the powerful Predator Gaming PC, this is one of the most immersive experiences you can do!"></a-box>
      </a-cylinder>
<!--    Scratch    -->
      <a-box id="pos2" position="-4.1 -1.2 1" opacity="0.0" scale="1 1 0.5" class="link" 
                  event-set__enter="_event: mouseenter; _target: #scratchText; visible: true"
                  event-set__enters="_event: mouseenter; _target: #video1; visible: true"
                  event-set__enterb="_event: mouseenter; _target: #box; visible: true"
                  event-set__entera="_event: mouseenter; _target: #prompt1; visible: false"
                  >
        <a-box id="box" position="-0.182 0.942  1" opacity="0.0" scale="1 1 0.5" visible="false"></a-box>
       <a-box id="scratchText" height="0.5" color="white" material="side: back" position="0.336 1.048 -2.966" rotation="0 -128 0" scale="1.817 1.468  0.005" visible="false" text="color: black; anchor: center; align: center;
              value:   Scratch is a great way for beginners to learn the basics of coding without the complexity of learning the whole language.
                       By dragging and dropping programming blocks, you can program your own: Interactive Stories, Games, Animations, etc.
                       Learn the reasoning behind programming, work collaboratively and share your designs with people all over the world!"></a-box>
        <a-video id="video1" visible="false" src="#scratch" width="8" height="5" rotation="0 165 0" position="-0.897 1.034 -2.378" scale="0.16 0.16 0.005"></a-video>
      </a-box>
      
<!--    Python game    -->
      <a-box id="pos3" position="-6.4 -1.2 1" opacity="0.0" scale="1 1 0.5" class="link">
        <a-box id="pythonText" height="0.5" color="white" material="side: back" position="0.909 1.000 -4.417" rotation="0 115 0" scale="2.032 1.421 0.005" visible="false" text="color: black; anchor: center; align: center;
              value:  Python is a multi-purpose programming language that anyone can learn! It’s a great start to understand how to code, with varying levels of complexity. You can use it to process text, numbers, images, scientific data and just about anything else you might save on a computer, the possibilities are endless. Python is even used in NASA for their machinery!"></a-box>
      </a-box>
      <!-- Camera + cursor. -->
      <a-entity id="camera" class="camera" rotation="0 90 0">
        <a-entity camera="active:true" look-controls="" position="0 0 0" rotation="0 0 0" scale="1 1 1" visible="true">
        <a-cursor
          animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
          animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
          event-set__1="_event: mouseenter; color: springgreen"
          event-set__2="_event: mouseleave; color: black"
          fuse="true; timeout: 50000"
          raycaster="objects: .link"></a-cursor>
      </a-entity>
      </a-entity>
      <a-light id="light" type="ambient" color="#FFF"></a-light>
    </a-scene>
    
    <script>
    var eventLstner = function (event) {
      var v = document.querySelector('#makery1');// + document.querySelector('#vid').getAttribute('material').src.id);
      v.play();
      var child = document.getElementById("p1");
      if(child !== null){
        child.parentNode.removeChild(child);        
      }
    };
    // window.addEventListener('click', eventLstner);
    </script>
    
    <script>
    function myFunction() {
    var clicking = document.getElementById("clicking")
    var x = document.getElementById("teleport");
    var y = document.getElementById("Arrow");
    var z = document.getElementById("beginButton");
    var a = document.getElementById("nextButton");
    var option = document.getElementById("options");
    var intro = document.getElementById("intro");
    if (clicking.style.display !== "none") {
        clicking.style.display = "none";
        x.style.display = "block";
        intro.style.display = "none"
    }else if (x.style.display !== "none") {
        x.style.display = "none";
        y.style.display = "block";
    }else if (y.style.display !== "none") {
        y.style.display = "none";   
        option.style.display="none";
    }

};
    </script>
  </body>
</html>
